{"ast":null,"code":"var _jsxFileName = \"/home/al/Documents/Bloom/Unit 5/SP/bd-team-project-bloomtech-shopping-complex/project_frontend/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { getFavorites, setUserSession } from './service/AuthService';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst loginApiURL = 'https://rzfy99sz8c.execute-api.us-west-2.amazonaws.com/testing2/accounts/login';\n\nconst Login = () => {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const submitHandler = async event => {\n    event.preventDefault();\n\n    if (username.trim() === '' || password.trim() === '') {\n      setErrorMessage('Both fields are required');\n      return;\n    }\n\n    setErrorMessage(null);\n    const data = {\n      username: username,\n      password: password\n    };\n\n    try {\n      let res = await axios({\n        method: 'POST',\n        data: data,\n        url: loginApiURL\n      });\n\n      if (res.status === 200) {\n        setUserSession(res.data.accountModel.username, res.data.accountModel.userId, res.data.accountModel.email, res.data.accountModel.favorites);\n        console.log(res);\n        window.location.href = \"./AccountDetails\";\n      }\n    } catch (error) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), \"username: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: username,\n        onChange: event => setUsername(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 27\n      }, this), \"password: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        onChange: event => setPassword(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"message\",\n      children: \"You are now logged in.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 30\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"ZoA7LYtb8kO1B5k4NigckvJEwUU=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/al/Documents/Bloom/Unit 5/SP/bd-team-project-bloomtech-shopping-complex/project_frontend/src/Login.js"],"names":["React","useState","getFavorites","setUserSession","axios","loginApiURL","Login","username","setUsername","password","setPassword","errorMessage","setErrorMessage","submitHandler","event","preventDefault","trim","data","res","method","url","status","accountModel","userId","email","favorites","console","log","window","location","href","error","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,YAAR,EAAsBC,cAAtB,QAA2C,uBAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAW,GAAG,gFAApB;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAChB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACU,YAAD,EAAeC,eAAf,IAAkCX,QAAQ,CAAC,IAAD,CAAhD;;AAEA,QAAMY,aAAa,GAAG,MAAOC,KAAP,IAAiB;AACnCA,IAAAA,KAAK,CAACC,cAAN;;AACA,QAAIR,QAAQ,CAACS,IAAT,OAAoB,EAApB,IAA0BP,QAAQ,CAACO,IAAT,OAAoB,EAAlD,EAAsD;AAClDJ,MAAAA,eAAe,CAAC,0BAAD,CAAf;AACA;AACH;;AACDA,IAAAA,eAAe,CAAC,IAAD,CAAf;AAEA,UAAMK,IAAI,GAAG;AACTV,MAAAA,QAAQ,EAAEA,QADD;AAETE,MAAAA,QAAQ,EAAEA;AAFD,KAAb;;AAKA,QAAI;AACA,UAAIS,GAAG,GAAG,MAAMd,KAAK,CAAC;AAClBe,QAAAA,MAAM,EAAE,MADU;AAElBF,QAAAA,IAAI,EAAEA,IAFY;AAGlBG,QAAAA,GAAG,EAAEf;AAHa,OAAD,CAArB;;AAMA,UAAIa,GAAG,CAACG,MAAJ,KAAe,GAAnB,EAAwB;AACpBlB,QAAAA,cAAc,CAACe,GAAG,CAACD,IAAJ,CAASK,YAAT,CAAsBf,QAAvB,EAAiCW,GAAG,CAACD,IAAJ,CAASK,YAAT,CAAsBC,MAAvD,EAA+DL,GAAG,CAACD,IAAJ,CAASK,YAAT,CAAsBE,KAArF,EAA4FN,GAAG,CAACD,IAAJ,CAASK,YAAT,CAAsBG,SAAlH,CAAd;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYT,GAAZ;AACAU,QAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,kBAAvB;AACH;AACJ,KAZD,CAaA,OAAOC,KAAP,EAAc,CAEb;AACJ,GA7BD;;AA+BA,sBACI;AAAA,4BACI;AAAM,MAAA,QAAQ,EAAElB,aAAhB;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,6BAEc;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,KAAK,EAAEN,QAA1B;AAAoC,QAAA,QAAQ,EAAEO,KAAK,IAAIN,WAAW,CAACM,KAAK,CAACkB,MAAN,CAAaC,KAAd;AAAlE;AAAA;AAAA;AAAA;AAAA,cAFd,6BAGc;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,KAAK,EAAExB,QAA9B;AAAwC,QAAA,QAAQ,EAAEK,KAAK,IAAIJ,WAAW,CAACI,KAAK,CAACkB,MAAN,CAAaC,KAAd;AAAtE;AAAA;AAAA;AAAA;AAAA,cAHd,eAII;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC;AAA3B;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAOKtB,YAAY,iBAAI;AAAG,MAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPrB;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAYH,CAhDD;;GAAML,K;;KAAAA,K;AAkDN,eAAeA,KAAf","sourcesContent":["import React, {useState} from 'react';\nimport {getFavorites, setUserSession} from './service/AuthService';\nimport axios from 'axios';\n\nconst loginApiURL = 'https://rzfy99sz8c.execute-api.us-west-2.amazonaws.com/testing2/accounts/login';\n\nconst Login = () => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [errorMessage, setErrorMessage] = useState(null);\n\n    const submitHandler = async (event) => {\n        event.preventDefault();\n        if (username.trim() === '' || password.trim() === '') {\n            setErrorMessage('Both fields are required');\n            return;\n        }\n        setErrorMessage(null);\n\n        const data = {\n            username: username,\n            password: password\n        }\n\n        try {\n            let res = await axios({\n                method: 'POST',\n                data: data,\n                url: loginApiURL,\n\n            });\n            if (res.status === 200) {\n                setUserSession(res.data.accountModel.username, res.data.accountModel.userId, res.data.accountModel.email, res.data.accountModel.favorites);\n                console.log(res);\n                window.location.href = \"./AccountDetails\"\n            }\n        }\n        catch (error) {\n\n        }\n    }\n\n    return (\n        <div>\n            <form onSubmit={submitHandler}>\n                <h5>Login</h5>\n                username: <input type=\"text\" value={username} onChange={event => setUsername(event.target.value)} />\n                password: <input type=\"password\" value={password} onChange={event => setPassword(event.target.value)} />\n                <input type=\"submit\" value=\"Login\" />\n            </form>\n            {errorMessage && <p className=\"message\">You are now logged in.</p>}\n        </div>\n    )\n\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}